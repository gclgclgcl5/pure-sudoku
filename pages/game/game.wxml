<!-- æ¸¸æˆé¡µé¢ - é˜¶æ®µ6ç‰ˆæœ¬ -->
<view class="container">
  <view class="content">
    <!-- é¡¶éƒ¨ä¿¡æ¯æ  - æ–°å¸ƒå±€ -->
    <view class="info-bar">
      <!-- æ–°æ¸¸æˆæŒ‰é’® -->
      <button class="info-new-game-btn" bindtap="onNewGame">
        <text class="new-game-icon">ğŸ”„</text>
        <text class="new-game-label">æ–°æ¸¸æˆ</text>
      </button>
      
      <!-- éš¾åº¦æ˜¾ç¤ºï¼ˆåªè¯»ï¼‰ -->
      <view class="info-item">
        <text class="info-label">éš¾åº¦</text>
        <view class="info-value">{{difficulties[difficultyIndex].label}}</view>
      </view>
      
      <!-- é”™è¯¯è®¡æ•° -->
      <view class="info-item error-item">
        <text class="error-icon">âŒ</text>
        <text class="error-count">{{errorCount}}/3</text>
      </view>
      
      <!-- è®¡æ—¶å™¨ -->
      <view class="info-item timer-item">
        <text class="timer-icon">â±ï¸</text>
        <text class="timer-text">{{currentTime}}</text>
      </view>
    </view>
    
    <!-- æœ€ä½³æ—¶é—´ -->
    <view class="best-time" wx:if="{{bestTime}}">
      <text class="best-time-label">ğŸ† æœ€ä½³:</text>
      <text class="best-time-value">{{bestTime}}</text>
    </view>
    
    <!-- æ•°ç‹¬æ£‹ç›˜ -->
    <view class="board {{isPaused ? 'paused' : ''}}">
      <block wx:for="{{cells}}" wx:key="index">
        <view 
          class="cell {{item.isFixed ? 'fixed' : ''}} {{item.index === selectedIndex ? 'selected' : ''}} {{item.isRelated ? 'related' : ''}} {{item.isSameNumber ? 'same-number' : ''}} {{item.hasError ? 'error' : ''}} {{item.showHint ? 'hint-active' : ''}} {{item.isRightBorder ? 'border-right' : ''}} {{item.isBottomBorder ? 'border-bottom' : ''}}"
          data-index="{{item.index}}"
          bindtap="onCellTap">
          <!-- æ­£å¸¸æ•°å­— (æš‚åœæ—¶éšè—) -->
          <text class="cell-text" wx:if="{{item.value && !item.showHint && !isPaused}}">{{item.value}}</text>
          
          <!-- æç¤ºæ•°å­—ï¼ˆå¸¦åŠ¨ç”»ï¼Œæš‚åœæ—¶éšè—ï¼‰ -->
          <text class="hint-text" wx:if="{{item.showHint && !isPaused}}">{{item.hintValue}}</text>
        </view>
      </block>
      
      <!-- æš‚åœé®ç½© -->
      <view class="pause-overlay" wx:if="{{isPaused}}">
        <view class="pause-content">
          <text class="pause-icon">â¸</text>
          <text class="pause-text">æ¸¸æˆå·²æš‚åœ</text>
          <text class="pause-hint">ç‚¹å‡»"ç»§ç»­"æŒ‰é’®æ¢å¤æ¸¸æˆ</text>
        </view>
      </view>
    </view>
    
    <!-- åº•éƒ¨å·¥å…·æ  - è·Ÿéšæ£‹ç›˜ -->
    <view class="bottom-toolbar">
    <!-- åŠŸèƒ½æŒ‰é’®è¡Œ -->
    <view class="toolbar-actions">
      <button class="tool-btn" bindtap="onUndo" disabled="{{!canUndo}}">
        <text class="tool-icon">â†¶</text>
        <text class="tool-label">æ’¤é”€</text>
      </button>
      
      <button class="tool-btn {{isNoteMode ? 'active' : ''}}" bindtap="onToggleNoteMode">
        <text class="tool-icon">âœ</text>
        <text class="tool-label">{{isNoteMode ? 'å¡«æ•°' : 'ç¬”è®°'}}</text>
      </button>
      
      <button class="tool-btn" bindtap="onHint">
        <text class="tool-icon">ğŸ’¡</text>
        <text class="tool-label">æç¤º</text>
      </button>
      
      <button class="tool-btn {{isPaused ? 'active' : ''}}" bindtap="onPause">
        <text class="tool-icon">{{isPaused ? 'â–¶' : 'â¸'}}</text>
        <text class="tool-label">{{isPaused ? 'ç»§ç»­' : 'æš‚åœ'}}</text>
      </button>
    </view>
    
    <!-- æ•°å­—1-9æ¨ªå‘æ’åˆ— -->
    <view class="number-grid">
      <block wx:for="{{[1,2,3,4,5,6,7,8,9]}}" wx:key="*this">
        <view class="number-btn {{isNoteMode ? 'note-mode' : ''}}" data-num="{{item}}" bindtap="onNumberTap">
          {{item}}
        </view>
      </block>
    </view>
    
    <!-- æ¸…é™¤æŒ‰é’® -->
    <view class="pad-actions">
      <button class="clear-btn" bindtap="onClearTap">ğŸ—‘ï¸ æ¸…é™¤</button>
    </view>
    </view>
    
    <!-- å¹¿å‘Šä½é¢„ç•™åŒºåŸŸ -->
    <view class="ad-placeholder">
      <text class="ad-text">ğŸ“¢ å¹¿å‘Šä½é¢„ç•™</text>
    </view>
  </view>
</view>
